# NoClone

**NoClone** — небольшая утилита для построчной фильтрации текстовых файлов с накопительной базой уникальных строк.  
Изначально проект создавался для обработки списков идентификаторов (ID), но фактически подходит для любых задач, где нужно:

- убрать дубликаты строк;
- вести общую «базу уже встречавшихся значений»;
- получать на выход только новые уникальные строки.

Утилита рассчитана на регулярный запуск: вы подаёте новые данные во входной файл, скрипт проверяет их на уникальность, обновляет базу и выдаёт только то, чего ещё не было.

---

## Основные возможности

- **Построчная обработка текстовых файлов**  
  Входные данные читаются построчно, каждая строка воспринимается как отдельная сущность.

- **Накопительная база уникальных строк** (`IdsBD.txt`)  
  Все уникальные значения со всех запусков сохраняются в базе.  
  При последующих запусках новая порция строк сравнивается с уже накопленными.

- **Выделение новых уникальных значений** (`GoodId.txt`)  
  В отдельный файл записываются только строки, которых ещё не было в базе на момент запуска.

- **Атомарная запись базы**  
  Обновлённая база записывается через временный файл с последующей заменой.  
  Это снижает риск порчи `IdsBD.txt`, если выполнение прервётся во время записи (сбой питания, аварийное завершение и т.п.).

- **Статистика обработки**  
  В конце работы утилита выводит:
  - общее число прочитанных строк;
  - количество пропущенных пустых строк;
  - число реально обработанных строк;
  - сколько уникальных значений добавлено;
  - сколько найдено повторов;
  - итоговый размер базы.

- **Индикатор прогресса (tqdm)**  
  При обработке больших файлов удобно видеть прогресс.  
  Для автоматических сценариев прогресс-бар можно отключить через флаг `--no-progress`.

- **Настраиваемые пути к файлам**  
  Пути к базе, выходному и входному файлам задаются через аргументы командной строки.

- **Кроссплатформенность**  
  Утилита работает на Windows, Linux и macOS при наличии установленного Python.

---

## Структура файлов

По умолчанию используются следующие файлы:

- `IdsBD.txt`  
  Накопительная база **всех** уникальных строк, которые когда-либо были обработаны скриптом.  
  При каждом запуске:
  - база загружается в память (множество `set` для быстрых проверок);
  - после обработки — пересохраняется целиком **атомарно** (через временный файл) и хранится в отсортированном виде.

- `GoodId.txt`  
  Файл для **новых** уникальных строк, найденных за текущий запуск.  
  В него дописываются только те значения, которых не было в базе до запуска.  
  Это удобно использовать как «выгрузку свежих данных».

- `input.txt`  
  Входной файл.  
  Сюда вы записываете строки, которые хотите проверить на уникальность.  
  После успешной обработки содержимое `input.txt` автоматически очищается, чтобы избежать повторной обработки этих же данных.

Все файлы читаются и записываются в кодировке **UTF-8**.

---

## Требования

- **Python**: 3.10 или новее  
- **Зависимости**:
  - [`tqdm`](https://pypi.org/project/tqdm/) — для отображения прогресса

Установка зависимостей производится через `requirements.txt`.

---

## Установка

1. **Клонируйте репозиторий:**
   ```bash
   git clone https://github.com/Crazy0neBoy/NoClone
   cd NoClone